var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function c(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function l(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function u(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function h(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function m(t,e){t.value=null==e?"":e}let v;function x(t){v=t}function $(t){(function(){if(!v)throw new Error("Function called outside component initialization");return v})().$$.on_mount.push(t)}const y=[],w=[],b=[],k=[],_=Promise.resolve();let E=!1;function C(t){b.push(t)}const z=new Set;let L=0;function P(){const t=v;do{for(;L<y.length;){const t=y[L];L++,x(t),S(t.$$)}for(x(null),y.length=0,L=0;w.length;)w.pop()();for(let t=0;t<b.length;t+=1){const e=b[t];z.has(e)||(z.add(e),e())}b.length=0}while(y.length);for(;k.length;)k.pop()();E=!1,z.clear(),x(t)}function S(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(C)}}const F=new Set;let N;function O(t,e){t&&t.i&&(F.delete(t),t.i(e))}function T(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),N.c.push((()=>{F.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function j(t,n,i,r){const{fragment:l,on_mount:s,on_destroy:a,after_update:u}=t.$$;l&&l.m(n,i),r||C((()=>{const n=s.map(e).filter(c);a?a.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(C)}function B(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(y.push(t),E||(E=!0,_.then(P)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function A(e,c,i,r,l,a,u,d=[-1]){const f=v;x(e);const h=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(f?f.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:c.target||f.$$.root};u&&u(h.root);let p=!1;if(h.ctx=i?i(e,c.props||{},((t,n,...o)=>{const c=o.length?o[0]:n;return h.ctx&&l(h.ctx[t],h.ctx[t]=c)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](c),p&&H(e,t)),n})):[],h.update(),p=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);h.fragment&&h.fragment.l(t),t.forEach(s)}else h.fragment&&h.fragment.c();c.intro&&O(e.$$.fragment),j(e,c.target,c.anchor,c.customElement),P()}x(f)}class J{$destroy(){B(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var M=new class{constructor(){this.Hearders={},this.BaseUrl="",this.Loading=!1}Get(t,e){return this.Fetch(t,e)}Post(t,e,n){return n||(n={method:"POST",headers:this.Hearders,body:JSON.stringify(e)}),this.Fetch(t,n)}Put(t,e,n){return n||(n={method:"PUT",headers:this.Hearders,body:JSON.stringify(e)}),this.Fetch(t,n)}Delete(t,e,n){return n||(n={method:"DELETE",headers:this.Hearders,body:JSON.stringify(e)}),this.Fetch(t,n)}Patch(t,e,n){return n||(n={method:"PATCH",headers:this.Hearders,body:JSON.stringify(e)}),this.Fetch(t,n)}Fetch(t,e){this.Loading=!0;let n=fetch(this.BaseUrl+t,e).then((t=>this.handleResponse(t))).catch((t=>this.ErrorResponse(t.message)));return this.Loading=!1,n}handleResponse(t){let e=t.headers.get("content-type");if(t.ok&&e&&-1!==e.indexOf("application/json"))return t.json();throw new Error(t.status+" "+t.statusText)}};var R=new class{constructor(){M.BaseUrl="/",M.Hearders={"Content-Type":"application/json",Accept:"application/json"},M.ErrorResponse=t=>({Error:t,ErrorCode:""})}async LoadList(){return await M.Get("api/manage/list").then((t=>t||[]))}async LoadConfig(){return await M.Get("api/manage/config").then((t=>t||null))}async SaveConfig(t){return await M.Post("api/manage/config",t).then((t=>t||null))}};function U(e){let n,o,i,a,d;return{c(){n=u("svg"),o=u("path"),i=u("path"),p(o,"fill",e[1]),p(o,"d","M954 446.5c-2-16.2-14.7-29.1-30.9-31.4l-66.9-9.5c-6.3-20.7-14.5-40.8-24.3-59.8l41.7-54.9c9.9-13 9.8-31.2-0.2-44.2-0.2-0.2-18.8-24.3-43.1-48.7l-3.7-3.7c-20-20-40.2-36.5-48-42.6-0.3-0.2-0.4-0.4-0.6-0.4-13-9.9-31.1-10-44.1-0.3l-54.1 40.6c-19-10.1-38.9-18.6-59.4-25.1l-9.3-68.4c-2.2-16.2-15.1-29-31.3-31.1-0.3 0-30.2-3.9-64.9-3.9h-5.3c-34.5 0-64.6 3.9-64.8 3.9-16.2 2-29.1 14.7-31.4 30.9l-9.5 67c-20.5 6.2-40.6 14.4-59.7 24.2l-55.1-41.9c-13-9.9-31.2-9.8-44.2 0.2-0.1 0.1-0.2 0.2-0.5 0.4-7.8 6.1-28 22.6-48 42.6l-3.7 3.7c-20 20-36.5 40.2-42.6 48-0.2 0.3-0.4 0.4-0.5 0.6-9.9 13-10 31.1-0.3 44.1L190 341c-10.2 19.1-18.7 39.1-25.2 59.5l-68.3 9.4c-16.2 2.2-29 15.1-31.1 31.3 0 0.3-3.9 30.2-3.9 64.9v5.3c0 34.6 3.9 64.5 3.9 64.8 2 16.2 14.7 29.1 30.9 31.4l66.7 9.5c6.3 20.6 14.5 40.7 24.3 59.9l-41.6 54.9c-9.9 13-9.8 31.2 0.2 44.2 0.1 0.1 0.2 0.2 0.4 0.5 6.1 7.8 22.6 28 42.6 48l3.7 3.7c20.1 20.1 40.3 36.5 48 42.6 0.3 0.2 0.4 0.3 0.5 0.4 12.9 9.9 31 10 44.1 0.3l53.8-40.5c19.3 10.3 39.4 18.8 59.6 25.2l9.4 68.1c2.2 16.2 15.1 29 31.3 31.1 0.3 0 30.3 3.9 64.9 3.9h5.3c34.3 0 64.5-3.9 64.8-3.9 16.2-2 29.1-14.7 31.4-30.9l9.5-67.2c20.4-6.2 40.5-14.4 59.7-24.2L730 875c13 9.9 31.2 9.8 44.2-0.2 0.1-0.1 0.2-0.2 0.5-0.4 7.8-6.1 28-22.6 48-42.6l3.7-3.7c20.2-20.2 36.6-40.3 42.7-48.1l0.4-0.5c9.9-12.8 10-30.9 0.3-44l-40.5-54c10.2-18.9 18.7-38.9 25.2-59.4l68.2-9.3c16.2-2.2 29-15.1 31.1-31.3 0-0.3 3.9-30.2 3.9-64.9v-5.3c0.2-34.6-3.7-64.5-3.7-64.8zM755.2 664.9c-7.9 12.7-7.2 29.2 1.8 41.1l37.7 50.2c-5.6 6.3-12.2 13.6-19.3 20.6l-3.7 3.7c-6 6-12.7 12.3-20.6 19.2L701.5 762c-4.3-3.5-9.3-6-14.5-7.3-9.5-2.3-19.2-0.8-27.6 4.2-26.1 15.9-54.6 27.4-84.6 34.3-14.5 3.4-25.7 15.6-27.8 30.3l-9 62.5c-9.4 0.6-19.2 0.9-28.3 0.9h-5.3c-9.1 0-18.8-0.3-28.1-0.9l-8.8-63c-2-14.8-12.8-26.7-27.3-30.3-28.3-6.9-55.2-18.1-80-33.2-12.8-10.7-31.7-11.1-45.1-1.1l-50.4 37.8c-8-7-14.5-13.2-20.7-19.3l-3.8-3.8c-7.7-7.6-14.5-15.2-19.3-20.5l37.2-49.2c3-3.6 5.2-7.6 6.7-11.9 3.4-10.2 2.2-21.2-3.3-30.3-15.2-25.2-26.4-52.4-33.3-80.6 0-0.1 0-0.3-0.1-0.5 0-0.3-0.1-0.5-0.1-0.8-2.3-16.1-14.7-28.5-30.9-30.8l-62.4-8.8c-0.6-9.4-0.9-19.2-0.9-28.3V506c0-9.1 0.3-18.8 0.9-28.1l63.1-8.7c14.8-2 26.7-12.8 30.3-27.3 7.1-28.7 18.6-56.2 34.1-81.5 0.7-0.9 1.4-1.9 2.1-3 7.6-12.6 6.8-28.9-2-40.6l-37.8-50.4c6.9-7.8 13.3-14.6 19.3-20.6l3.8-3.7c6-6 12.6-12.1 20.6-19.2l49.3 37.3c4.3 3.6 9.1 6 14.3 7.4 9.5 2.5 19.7 1 28-4.1 25.5-15.4 53.2-26.8 82.2-33.7 15.9-2.5 28.1-14.8 30.4-30.8l8.8-62.4c9.4-0.6 19.1-0.9 28.3-0.9h5.3c10.1 0 19.8 0.5 28.1 0.9l8.7 63.3c2 14.8 12.8 26.7 27.3 30.3 28.7 7 56.3 18.6 82 34.3 12.7 9.4 30.5 9.2 43.2-0.3l50.4-37.8c7.9 7 14.6 13.3 20.6 19.3l3.7 3.7c6 6 12.3 12.7 19.2 20.6l-38.6 50.9c-7.4 9.7-9.4 22.5-5.4 34 0.9 2.7 2.2 5.3 3.8 7.7 15.7 26.1 27.1 54.3 33.8 83.8 3.3 14.5 15.5 25.7 30.3 27.9l62.2 8.8c0.6 9.4 0.9 19.2 0.9 28.3v5.2c0 10.2-0.5 20.2-0.9 28.1l-63.3 8.7c-15.7 2.1-28 14-30.8 29.7-7 28.7-18.8 56.3-34.8 81.8z"),p(o,"p-id","2220"),p(i,"fill",e[1]),p(i,"d","M509.7 322.5c-104.2 0-189 84.8-189 189s84.8 189 189 189 189-84.8 189-189c0.1-104.2-84.7-189-189-189z m116.4 189c0 64.2-52.2 116.3-116.3 116.3-64.2 0-116.3-52.2-116.3-116.3 0-64.2 52.2-116.3 116.3-116.3s116.3 52.2 116.3 116.3z"),p(i,"p-id","2221"),p(n,"t","1656398126487"),p(n,"class","icon"),p(n,"viewBox","0 0 1024 1024"),p(n,"version","1.1"),p(n,"xmlns","http://www.w3.org/2000/svg"),p(n,"p-id","2219"),p(n,"width",e[0]),p(n,"height",e[0])},m(t,s){l(t,n,s),r(n,o),r(n,i),a||(d=h(n,"click",(function(){c(e[2])&&e[2].apply(this,arguments)})),a=!0)},p(t,[c]){e=t,2&c&&p(o,"fill",e[1]),2&c&&p(i,"fill",e[1]),1&c&&p(n,"width",e[0]),1&c&&p(n,"height",e[0])},i:t,o:t,d(t){t&&s(n),a=!1,d()}}}function G(t,e,n){let{size:o=32}=e,{fill:c="#bfbfbf"}=e,{onClick:i=(()=>{})}=e;return t.$$set=t=>{"size"in t&&n(0,o=t.size),"fill"in t&&n(1,c=t.fill),"onClick"in t&&n(2,i=t.onClick)},[o,c,i]}class q extends J{constructor(t){super(),A(this,t,G,U,i,{size:0,fill:1,onClick:2})}}function D(t,e,n){const o=t.slice();return o[11]=e[n],o}function V(t){let e,n,o,c,i,u=t[1].downloadPath+"";return n=new q({props:{size:21,onClick:t[3]}}),{c(){var t;e=a("div"),(t=n.$$.fragment)&&t.c(),o=f(),c=d(u),p(e,"class","content svelte-17xox87")},m(t,s){l(t,e,s),j(n,e,null),r(e,o),r(e,c),i=!0},p(t,e){(!i||2&e)&&u!==(u=t[1].downloadPath+"")&&g(c,u)},i(t){i||(O(n.$$.fragment,t),i=!0)},o(t){T(n.$$.fragment,t),i=!1},d(t){t&&s(e),B(n)}}}function I(e){let n,c,i,u,d,g,v,x;return{c(){n=a("div"),c=a("div"),i=a("input"),u=a("button"),u.textContent="保存",d=f(),g=a("div"),p(i,"class","content svelte-17xox87"),p(i,"type","text"),p(c,"class","z-2 svelte-17xox87"),p(g,"class","mask svelte-17xox87"),p(n,"class","z-1")},m(t,o){l(t,n,o),r(n,c),r(c,i),m(i,e[1].downloadPath),r(c,u),r(n,d),r(n,g),v||(x=[h(i,"input",e[6]),h(u,"click",e[5]),h(g,"click",e[4])],v=!0)},p(t,e){2&e&&i.value!==t[1].downloadPath&&m(i,t[1].downloadPath)},i:t,o:t,d(t){t&&s(n),v=!1,o(x)}}}function K(t){let e,n,o,c,i,u,h,m,v,x,$,y,w,b,k,_,E,C,z,L=t[11].fileName+"",P=t[11].url+"",S=t[11].size+"",F=t[11].error+"";return{c(){e=a("div"),n=a("div"),o=a("div"),c=d(L),i=f(),u=a("div"),h=d(P),m=f(),v=a("div"),x=a("div"),$=a("progress"),b=f(),k=a("div"),_=d(S),E=f(),C=a("div"),z=d(F),p(o,"class","title svelte-17xox87"),p(u,"class","url svelte-17xox87"),p($,"min","0"),p($,"max",y=t[11].size),$.value=w=t[11].recievedByte,p(e,"class","row svelte-17xox87"),p(C,"class","error svelte-17xox87")},m(t,s){l(t,e,s),r(e,n),r(n,o),r(o,c),r(n,i),r(n,u),r(u,h),r(e,m),r(e,v),r(v,x),r(x,$),r(v,b),r(v,k),r(k,_),l(t,E,s),l(t,C,s),r(C,z)},p(t,e){4&e&&L!==(L=t[11].fileName+"")&&g(c,L),4&e&&P!==(P=t[11].url+"")&&g(h,P),4&e&&y!==(y=t[11].size)&&p($,"max",y),4&e&&w!==(w=t[11].recievedByte)&&($.value=w),4&e&&S!==(S=t[11].size+"")&&g(_,S),4&e&&F!==(F=t[11].error+"")&&g(z,F)},d(t){t&&s(e),t&&s(E),t&&s(C)}}}function Q(t){let e,n,c,i,u,g,m,v,x,$,y,w,b,k,_,E,C,z,L;const P=[I,V],S=[];function F(t,e){return t[0]?0:1}v=F(t),x=S[v]=P[v](t);let j=t[2],B=[];for(let e=0;e<j.length;e+=1)B[e]=K(D(t,j,e));return{c(){e=a("main"),n=a("h1"),n.textContent="下载任务",c=f(),i=a("div"),u=a("div"),g=a("span"),g.textContent="保存路径：",m=f(),x.c(),$=f(),y=a("div"),w=a("label"),b=d("跳过已下载文件：\n\t\t\t\t"),k=a("input"),_=f(),E=a("p");for(let t=0;t<B.length;t+=1)B[t].c();p(n,"class","svelte-17xox87"),p(u,"class","item svelte-17xox87"),p(k,"type","checkbox"),p(y,"class","item svelte-17xox87"),p(i,"class","config"),p(e,"class","svelte-17xox87")},m(o,s){l(o,e,s),r(e,n),r(e,c),r(e,i),r(i,u),r(u,g),r(u,m),S[v].m(u,null),r(i,$),r(i,y),r(y,w),r(w,b),r(w,k),k.checked=t[1].skipSameFile,r(e,_),r(e,E);for(let t=0;t<B.length;t+=1)B[t].m(E,null);C=!0,z||(L=[h(k,"change",t[7]),h(k,"change",t[5])],z=!0)},p(t,[e]){let n=v;if(v=F(t),v===n?S[v].p(t,e):(N={r:0,c:[],p:N},T(S[n],1,1,(()=>{S[n]=null})),N.r||o(N.c),N=N.p,x=S[v],x?x.p(t,e):(x=S[v]=P[v](t),x.c()),O(x,1),x.m(u,null)),2&e&&(k.checked=t[1].skipSameFile),4&e){let n;for(j=t[2],n=0;n<j.length;n+=1){const o=D(t,j,n);B[n]?B[n].p(o,e):(B[n]=K(o),B[n].c(),B[n].m(E,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=j.length}},i(t){C||(O(x),C=!0)},o(t){T(x),C=!1},d(t){t&&s(e),S[v].d(),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(B,t),z=!1,o(L)}}}function W(t,e,n){let o=!1,c={};$((()=>{!async function(){n(1,c=await R.LoadConfig())}(),r()}));let i=[];async function r(){n(2,i=await R.LoadList()),setTimeout((async()=>{await r()}),1e3)}return[o,c,i,function(){n(0,o=!0)},function(){n(0,o=!1)},async function(){n(0,o=!1),await R.SaveConfig(c)},function(){c.downloadPath=this.value,n(1,c)},function(){c.skipSameFile=this.checked,n(1,c)}]}return new class extends J{constructor(t){super(),A(this,t,W,Q,i,{})}}({target:document.querySelector("#app"),props:{}})}();
//# sourceMappingURL=bundle.js.map
